{"version":3,"sources":["views/app-views/user-edit/EditHOC.js","views/app-views/user-edit/EditProfile.js"],"names":["WrappedComponent","EditProfile","state","name","email","username","phone","website","loader","id","this","props","params","setState","fetch","json","data","alert","history","push","APP_PREFIX_PATH","img","callback","reader","FileReader","addEventListener","result","readAsDataURL","setTimeout","Loading","Flex","alignItems","mobileFlex","className","size","icon","UserOutlined","onChange","info","key","file","status","getBase64","originFileObj","imageUrl","avatarUrl","message","success","content","duration","loading","showUploadList","action","avatarEndpoint","type","onClick","layout","initialValues","onFinish","values","userName","dateOfBirth","phoneNumber","address","city","postcode","onFinishFailed","errorInfo","console","log","xs","sm","md","lg","gutter","ROW_GUTTER","Item","label","rules","required","handleSubmit","Component","editHOCParams","useParams","useHistory"],"mappings":"8GAMsBA,E,6MCsOPC,EApOf,4MAECC,MAAO,CACNC,KAAM,GACNC,MAAO,GACPC,SAAU,GACVC,MAAO,GACPC,QAAS,GACTC,QAAQ,GARV,2LAYQC,EAAKC,KAAKC,MAAMC,OAAOH,GAC7BC,KAAKG,SAAL,2BAAkBH,KAAKR,OAAvB,IAA8BM,QAAQ,KAbxC,SAc4BM,MAAM,8CAAD,OAA+CL,IAdhF,8BAcuFM,OAdvF,WAcQC,EAdR,QAeYb,KAfZ,wBAgBGc,MAAM,yCACNP,KAAKC,MAAMO,QAAQC,KAAnB,UAA2BC,IAA3B,8BAjBH,2BAoBEV,KAAKG,SAASG,GACdN,KAAKG,SAAL,2BAAkBH,KAAKR,OAAvB,IAA8BM,QAAQ,KArBxC,uIAwBWa,EAAKC,GACd,IAAMC,EAAS,IAAIC,WACnBD,EAAOE,iBAAiB,QAAQ,kBAAMH,EAASC,EAAOG,WACtDH,EAAOI,cAAcN,KA3BvB,qCA8BiB,IAAD,OACdX,KAAKG,SAAL,2BAAkBH,KAAKR,OAAvB,IAA8BM,QAAQ,KACtCoB,YAAW,WACV,EAAKjB,MAAMO,QAAQC,KAAnB,UAA2BC,IAA3B,gCACC,OAlCJ,+BAuCW,IAAD,SAgD0CV,KAAKR,MAA/CC,EAhDA,EAgDAA,KAAMC,EAhDN,EAgDMA,MAAOC,EAhDb,EAgDaA,SAAUC,EAhDvB,EAgDuBA,MAAOC,EAhD9B,EAgD8BA,QAEtC,OAAKJ,EAGJ,qCACEO,KAAKR,MAAMM,QAAU,cAACqB,EAAA,EAAD,IACtB,eAACC,EAAA,EAAD,CAAMC,WAAW,SAASC,YAAY,EAAOC,UAAU,2BAAvD,UACC,cAAC,IAAD,CAAQC,KAAM,GAAIC,KAAM,cAACC,EAAA,EAAD,MACxB,sBAAKH,UAAU,uBAAf,UACC,cAAC,IAAD,CAAQI,SAlCY,SAAAC,GACvB,IAAMC,EAAM,YACa,cAArBD,EAAKE,KAAKC,OAIW,SAArBH,EAAKE,KAAKC,SACb,EAAKC,UAAUJ,EAAKE,KAAKG,eAAe,SAAAC,GAAQ,OAC/C,EAAK/B,SAAS,CACbgC,UAAWD,OAGbE,IAAQC,QAAQ,CAAEC,QAAS,YAAaT,MAAMU,SAAU,OATxDH,IAAQI,QAAQ,CAAEF,QAAS,eAAgBT,MAAKU,SAAU,OA+BrBE,gBAAgB,EAAOC,OAAQ1C,KAAK2C,eAAvE,SACC,cAAC,IAAD,CAAQC,KAAK,UAAb,6BAED,cAAC,IAAD,CAAQrB,UAAU,OAAOsB,QArBN,WACtB,EAAK1C,SAAS,CACbgC,UAAW,MAmBT,0BAGF,qBAAKZ,UAAU,OAAf,SACC,cAAC,IAAD,CACC9B,KAAK,mBACLqD,OAAO,WACPC,cACC,CACC,KAAQtD,EACR,MAASC,EACT,SAAYC,EACZ,YAAe,GACf,YAAeC,EACf,QAAWC,EACX,QAAW,GACX,KAAQ,GACR,SAAY,IAGdmD,SAhFa,SAAAC,GAChB,IAAMpB,EAAM,YACZO,IAAQI,QAAQ,CAAEF,QAAS,cAAeT,QAC1CX,YAAW,WACV,EAAKf,SAAS,CACbV,KAAMwD,EAAOxD,KACbC,MAAOuD,EAAOvD,MACdwD,SAAUD,EAAOC,SACjBC,YAAaF,EAAOE,YACpBC,YAAaH,EAAOG,YACpBvD,QAASoD,EAAOpD,QAChBwD,QAASJ,EAAOI,QAChBC,KAAML,EAAOK,KACbC,SAAUN,EAAOM,WAElBnB,IAAQC,QAAQ,CAAEC,QAAS,QAAST,MAAKU,SAAU,MACjD,MAiEAiB,eA9DmB,SAAAC,GACtBC,QAAQC,IAAI,UAAWF,IA4CrB,SAmBC,cAAC,IAAD,UACC,eAAC,IAAD,CAAKG,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAjC,UACC,eAAC,IAAD,CAAKC,OAAQC,IAAb,UACC,cAAC,IAAD,CAAKL,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAzB,SACC,cAAC,IAAKI,KAAN,CACCC,MAAM,OACN1E,KAAK,OACL2E,MAAO,CACN,CACCC,UAAU,EACVjC,QAAS,4BANZ,SAUC,cAAC,IAAD,QAGF,cAAC,IAAD,CAAKwB,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAzB,SACC,cAAC,IAAKI,KAAN,CACCC,MAAM,WACN1E,KAAK,WACL2E,MAAO,CACN,CACCC,UAAU,EACVjC,QAAS,gCANZ,SAUC,cAAC,IAAD,QAGF,cAAC,IAAD,CAAKwB,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAzB,SACC,cAAC,IAAKI,KAAN,CACCC,MAAM,QACN1E,KAAK,QACL2E,MAAO,CAAC,CACPC,UAAU,EACVzB,KAAM,QACNR,QAAS,gCANX,SASC,cAAC,IAAD,QAGF,cAAC,IAAD,CAAKwB,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAzB,SACC,cAAC,IAAKI,KAAN,CACCC,MAAM,gBACN1E,KAAK,cAFN,SAIC,cAAC,IAAD,CAAY8B,UAAU,cAGxB,cAAC,IAAD,CAAKqC,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAzB,SACC,cAAC,IAAKI,KAAN,CACCC,MAAM,eACN1E,KAAK,cAFN,SAIC,cAAC,IAAD,QAGF,cAAC,IAAD,CAAKmE,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAzB,SACC,cAAC,IAAKI,KAAN,CACCC,MAAM,UACN1E,KAAK,UAFN,SAIC,cAAC,IAAD,QAGF,cAAC,IAAD,CAAKmE,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAzB,SACC,cAAC,IAAKI,KAAN,CACCC,MAAM,UACN1E,KAAK,UAFN,SAIC,cAAC,IAAD,QAGF,cAAC,IAAD,CAAKmE,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAzB,SACC,cAAC,IAAKI,KAAN,CACCC,MAAM,OACN1E,KAAK,OAFN,SAIC,cAAC,IAAD,QAGF,cAAC,IAAD,CAAKmE,GAAI,GAAIC,GAAI,GAAIC,GAAI,GAAzB,SACC,cAAC,IAAKI,KAAN,CACCC,MAAM,YACN1E,KAAK,WAFN,SAIC,cAAC,IAAD,WAIH,cAAC,IAAD,CAAQoD,QAAS,kBAAM,EAAKyB,gBAAgB1B,KAAK,UAAjD,qCA/HY,cAACzB,EAAA,EAAD,QAzFpB,GAAiCoD,a,SDOlBC,WATOlF,EASOC,EATa,SAAAU,GACtC,IAAMC,EAASuE,sBACTjE,EAAUkE,uBAEhB,OACI,cAACpF,EAAD,2BAAsBW,GAAtB,IAA6BC,OAAQA,EAAQM,QAASA","file":"static/js/17.f129994f.chunk.js","sourcesContent":["import EditProfile from \"./EditProfile\"\n\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\"\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\"\n\n\nconst editHOCParams = WrappedComponent => props => {\n    const params = useParams()\n    const history = useHistory()\n\n    return (\n        <WrappedComponent {...props} params={params} history={history}/>\n    )\n}\n\nexport default editHOCParams(EditProfile)","import React, { Component } from 'react';\r\nimport { Form, Avatar, Button, Input, DatePicker, Row, Col, message, Upload } from 'antd';\r\nimport { UserOutlined } from '@ant-design/icons';\r\nimport { ROW_GUTTER } from 'constants/ThemeConstant';\r\nimport Flex from 'components/shared-components/Flex'\r\nimport Loading from 'components/shared-components/Loading';\r\nimport { APP_PREFIX_PATH } from 'configs/AppConfig'\r\n\r\nexport class EditProfile extends Component {\r\n\r\n\tstate= {\r\n\t\tname: '',\r\n\t\temail: '',\r\n\t\tusername: '',\r\n\t\tphone: '',\r\n\t\twebsite: '',\r\n\t\tloader: false\r\n\t}\r\n\r\n\tasync componentDidMount() {\r\n\t\tconst id = this.props.params.id\r\n\t\tthis.setState({...this.state, loader: true})\r\n\t\tconst data = await (await fetch(`https://jsonplaceholder.typicode.com/users/${id}`)).json()\r\n\t\tif (!data.name) {\r\n\t\t\talert('Ошибка!')\r\n\t\t\tthis.props.history.push(`${APP_PREFIX_PATH}/main/clients/clientsList`)\r\n\t\t\treturn\r\n\t\t}\r\n\t\tthis.setState(data)\r\n\t\tthis.setState({...this.state, loader: false})\r\n\t}\r\n\r\n\tgetBase64(img, callback) {\r\n\t\tconst reader = new FileReader();\r\n\t\treader.addEventListener('load', () => callback(reader.result));\r\n\t\treader.readAsDataURL(img);\r\n\t}\r\n\r\n\thandleSubmit() {\r\n\t\tthis.setState({...this.state, loader: true})\r\n\t\tsetTimeout(()=>{\r\n\t\t\tthis.props.history.push(`${APP_PREFIX_PATH}/main/clients/clientsList`)\r\n\t\t},1000)\r\n\t}\r\n\r\n\t\r\n\r\n\trender() {\r\n\t\tconst onFinish = values => {\r\n\t\t\tconst key = 'updatable';\r\n\t\t\tmessage.loading({ content: 'Updating...', key });\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tname: values.name,\r\n\t\t\t\t\temail: values.email,\r\n\t\t\t\t\tuserName: values.userName,\r\n\t\t\t\t\tdateOfBirth: values.dateOfBirth,\r\n\t\t\t\t\tphoneNumber: values.phoneNumber,\r\n\t\t\t\t\twebsite: values.website,\r\n\t\t\t\t\taddress: values.address,\r\n\t\t\t\t\tcity: values.city,\r\n\t\t\t\t\tpostcode: values.postcode,\r\n\t\t\t\t})\r\n\t\t\t\tmessage.success({ content: 'Done!', key, duration: 2 });\r\n\t\t\t}, 1000);\r\n\t\t};\r\n\t\r\n\t\tconst onFinishFailed = errorInfo => {\r\n\t\t\tconsole.log('Failed:', errorInfo);\r\n\t\t};\r\n\r\n\t\tconst onUploadAavater = info => {\r\n\t\t\tconst key = 'updatable';\r\n\t\t\tif (info.file.status === 'uploading') {\r\n\t\t\t\tmessage.loading({ content: 'Uploading...', key, duration: 1000 });\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (info.file.status === 'done') {\r\n\t\t\t\tthis.getBase64(info.file.originFileObj, imageUrl =>\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tavatarUrl: imageUrl,\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t\tmessage.success({ content: 'Uploaded!', key,  duration: 1.5 });\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst onRemoveAvater = () => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tavatarUrl: ''\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\t\tconst { name, email, username, phone, website } = this.state;\r\n\r\n\t\tif (!name) return <Loading/>\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{this.state.loader && <Loading/>}\r\n\t\t\t\t<Flex alignItems=\"center\" mobileFlex={false} className=\"text-center text-md-left\">\r\n\t\t\t\t\t<Avatar size={90} icon={<UserOutlined />}/>\r\n\t\t\t\t\t<div className=\"ml-md-3 mt-md-0 mt-3\">\r\n\t\t\t\t\t\t<Upload onChange={onUploadAavater} showUploadList={false} action={this.avatarEndpoint}>\r\n\t\t\t\t\t\t\t<Button type=\"primary\">Change Avatar</Button>\r\n\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t<Button className=\"ml-2\" onClick={onRemoveAvater}>Remove</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Flex>\r\n\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t<Form\r\n\t\t\t\t\t\tname=\"basicInformation\"\r\n\t\t\t\t\t\tlayout=\"vertical\"\r\n\t\t\t\t\t\tinitialValues={\r\n\t\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\t\t'name': name,\r\n\t\t\t\t\t\t\t\t'email': email,\r\n\t\t\t\t\t\t\t\t'username': username,\r\n\t\t\t\t\t\t\t\t'dateOfBirth': '',\r\n\t\t\t\t\t\t\t\t'phoneNumber': phone,\r\n\t\t\t\t\t\t\t\t'website': website,\r\n\t\t\t\t\t\t\t\t'address': '',\r\n\t\t\t\t\t\t\t\t'city': '',\r\n\t\t\t\t\t\t\t\t'postcode': ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonFinish={onFinish}\r\n\t\t\t\t\t\tonFinishFailed={onFinishFailed}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col xs={24} sm={24} md={24} lg={16}>\r\n\t\t\t\t\t\t\t\t<Row gutter={ROW_GUTTER}>\r\n\t\t\t\t\t\t\t\t\t<Col xs={24} sm={24} md={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Name\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmessage: 'Please input your name!',\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col xs={24} sm={24} md={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Username\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmessage: 'Please input your username!'\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col xs={24} sm={24} md={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Email\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\t\t\trules={[{ \r\n\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: 'email',\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: 'Please enter a valid email!' \r\n\t\t\t\t\t\t\t\t\t\t\t}]}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col xs={24} sm={24} md={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Date of Birth\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"dateOfBirth\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<DatePicker className=\"w-100\"/>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col xs={24} sm={24} md={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Phone Number\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"phoneNumber\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col xs={24} sm={24} md={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Website\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"website\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col xs={24} sm={24} md={24}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Address\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"address\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col xs={24} sm={24} md={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"City\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"city\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col xs={24} sm={24} md={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Post code\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"postcode\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Button onClick={() => this.handleSubmit()} type=\"primary\">\r\n\t\t\t\t\t\t\t\t\tSave Change\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default EditProfile\r\n"],"sourceRoot":""}