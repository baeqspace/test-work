{"version":3,"sources":["components/util-components/Loader/Loader.jsx","views/app-views/user-edit/EditHOC.js","views/app-views/user-edit/EditProfile.js"],"names":["Loader","style","position","inset","background","zIndex","display","justifyContent","alignItems","flexDirection","fontSize","className","width","height","border","borderRadius","WrappedComponent","EditProfile","state","name","email","username","phone","website","loader","id","this","props","params","setState","fetch","json","data","alert","history","push","img","callback","reader","FileReader","addEventListener","result","readAsDataURL","setTimeout","Flex","mobileFlex","size","icon","UserOutlined","onChange","info","key","file","status","getBase64","originFileObj","imageUrl","avatarUrl","message","success","content","duration","loading","showUploadList","action","avatarEndpoint","type","onClick","layout","initialValues","onFinish","values","userName","dateOfBirth","phoneNumber","address","city","postcode","onFinishFailed","errorInfo","console","log","xs","sm","md","lg","gutter","ROW_GUTTER","Item","label","rules","required","handleSubmit","Component","editHOCParams","useParams","useHistory"],"mappings":"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","file":"static/js/15.de8afafd.chunk.js","sourcesContent":["export function Loader() {\n    return (\n        <div style={{position: 'fixed', inset: 0, background: 'rgba(100,100,100,0.5)', zIndex: 99999, display: 'flex', justifyContent: 'center', alignItems: 'center', flexDirection: 'column', fontSize: 24}}>\n            <div className=\"loader\" style={{width: 100, height: 100, background: 'transparent', border: '5px dashed blue', borderRadius: 100}}></div>\n            Загрузка...\n        </div>\n    )\n}","import EditProfile from \"./EditProfile\"\n\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\"\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\"\n\n\nconst editHOCParams = WrappedComponent => props => {\n    const params = useParams()\n    const history = useHistory()\n\n    return (\n        <WrappedComponent {...props} params={params} history={history}/>\n    )\n}\n\nexport default editHOCParams(EditProfile)","import React, { Component } from 'react';\r\nimport { Form, Avatar, Button, Input, DatePicker, Row, Col, message, Upload } from 'antd';\r\nimport { UserOutlined } from '@ant-design/icons';\r\nimport { ROW_GUTTER } from 'constants/ThemeConstant';\r\nimport Flex from 'components/shared-components/Flex'\r\nimport { Loader } from 'components/util-components/Loader/Loader';\r\n\r\nexport class EditProfile extends Component {\r\n\r\n\tstate= {\r\n\t\tname: '',\r\n\t\temail: '',\r\n\t\tusername: '',\r\n\t\tphone: '',\r\n\t\twebsite: '',\r\n\t\tloader: false\r\n\t}\r\n\r\n\tasync componentDidMount() {\r\n\t\tconst id = this.props.params.id\r\n\t\tthis.setState({...this.state, loader: true})\r\n\t\tconst data = await (await fetch(`https://jsonplaceholder.typicode.com/users/${id}`)).json()\r\n\t\tif (!data.name) {\r\n\t\t\talert('Ошибка!')\r\n\t\t\tthis.props.history.push('/app/main/clients/clientsList')\r\n\t\t\treturn\r\n\t\t}\r\n\t\tthis.setState(data)\r\n\t\tthis.setState({...this.state, loader: false})\r\n\t}\r\n\r\n\tgetBase64(img, callback) {\r\n\t\tconst reader = new FileReader();\r\n\t\treader.addEventListener('load', () => callback(reader.result));\r\n\t\treader.readAsDataURL(img);\r\n\t}\r\n\r\n\thandleSubmit() {\r\n\t\tthis.setState({...this.state, loader: true})\r\n\t\tsetTimeout(()=>{\r\n\t\t\tthis.props.history.push('/app/main/clients/clientsList')\r\n\t\t},1000)\r\n\t}\r\n\r\n\t\r\n\r\n\trender() {\r\n\t\tconst onFinish = values => {\r\n\t\t\tconst key = 'updatable';\r\n\t\t\tmessage.loading({ content: 'Updating...', key });\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tname: values.name,\r\n\t\t\t\t\temail: values.email,\r\n\t\t\t\t\tuserName: values.userName,\r\n\t\t\t\t\tdateOfBirth: values.dateOfBirth,\r\n\t\t\t\t\tphoneNumber: values.phoneNumber,\r\n\t\t\t\t\twebsite: values.website,\r\n\t\t\t\t\taddress: values.address,\r\n\t\t\t\t\tcity: values.city,\r\n\t\t\t\t\tpostcode: values.postcode,\r\n\t\t\t\t})\r\n\t\t\t\tmessage.success({ content: 'Done!', key, duration: 2 });\r\n\t\t\t}, 1000);\r\n\t\t};\r\n\t\r\n\t\tconst onFinishFailed = errorInfo => {\r\n\t\t\tconsole.log('Failed:', errorInfo);\r\n\t\t};\r\n\r\n\t\tconst onUploadAavater = info => {\r\n\t\t\tconst key = 'updatable';\r\n\t\t\tif (info.file.status === 'uploading') {\r\n\t\t\t\tmessage.loading({ content: 'Uploading...', key, duration: 1000 });\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (info.file.status === 'done') {\r\n\t\t\t\tthis.getBase64(info.file.originFileObj, imageUrl =>\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tavatarUrl: imageUrl,\r\n\t\t\t\t\t}),\r\n\t\t\t\t);\r\n\t\t\t\tmessage.success({ content: 'Uploaded!', key,  duration: 1.5 });\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst onRemoveAvater = () => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tavatarUrl: ''\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\t\tconst { name, email, username, phone, website } = this.state;\r\n\r\n\t\tif (!name) return <Loader/>\r\n\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{this.state.loader && <Loader/>}\r\n\t\t\t\t<Flex alignItems=\"center\" mobileFlex={false} className=\"text-center text-md-left\">\r\n\t\t\t\t\t<Avatar size={90} icon={<UserOutlined />}/>\r\n\t\t\t\t\t<div className=\"ml-md-3 mt-md-0 mt-3\">\r\n\t\t\t\t\t\t<Upload onChange={onUploadAavater} showUploadList={false} action={this.avatarEndpoint}>\r\n\t\t\t\t\t\t\t<Button type=\"primary\">Change Avatar</Button>\r\n\t\t\t\t\t\t</Upload>\r\n\t\t\t\t\t\t<Button className=\"ml-2\" onClick={onRemoveAvater}>Remove</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Flex>\r\n\t\t\t\t<div className=\"mt-4\">\r\n\t\t\t\t\t<Form\r\n\t\t\t\t\t\tname=\"basicInformation\"\r\n\t\t\t\t\t\tlayout=\"vertical\"\r\n\t\t\t\t\t\tinitialValues={\r\n\t\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\t\t'name': name,\r\n\t\t\t\t\t\t\t\t'email': email,\r\n\t\t\t\t\t\t\t\t'username': username,\r\n\t\t\t\t\t\t\t\t'dateOfBirth': '',\r\n\t\t\t\t\t\t\t\t'phoneNumber': phone,\r\n\t\t\t\t\t\t\t\t'website': website,\r\n\t\t\t\t\t\t\t\t'address': '',\r\n\t\t\t\t\t\t\t\t'city': '',\r\n\t\t\t\t\t\t\t\t'postcode': ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tonFinish={onFinish}\r\n\t\t\t\t\t\tonFinishFailed={onFinishFailed}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t<Col xs={24} sm={24} md={24} lg={16}>\r\n\t\t\t\t\t\t\t\t<Row gutter={ROW_GUTTER}>\r\n\t\t\t\t\t\t\t\t\t<Col xs={24} sm={24} md={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Name\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmessage: 'Please input your name!',\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col xs={24} sm={24} md={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Username\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmessage: 'Please input your username!'\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col xs={24} sm={24} md={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Email\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\t\t\trules={[{ \r\n\t\t\t\t\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: 'email',\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: 'Please enter a valid email!' \r\n\t\t\t\t\t\t\t\t\t\t\t}]}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col xs={24} sm={24} md={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Date of Birth\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"dateOfBirth\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<DatePicker className=\"w-100\"/>\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col xs={24} sm={24} md={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Phone Number\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"phoneNumber\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col xs={24} sm={24} md={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Website\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"website\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col xs={24} sm={24} md={24}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Address\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"address\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col xs={24} sm={24} md={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"City\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"city\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col xs={24} sm={24} md={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Post code\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"postcode\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<Input />\r\n\t\t\t\t\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t\t<Button onClick={() => this.handleSubmit()} type=\"primary\">\r\n\t\t\t\t\t\t\t\t\tSave Change\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default EditProfile\r\n"],"sourceRoot":""}